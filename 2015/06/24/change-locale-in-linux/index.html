<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Change locale in linux  &middot; Kiyeon&#39;s Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="
  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="http://kiyeon.github.io/css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="http://kiyeon.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="http://kiyeon.github.io/css/style.css">


  <link rel="stylesheet" href="http://kiyeon.github.io/css/highlight/default.css">


</head>
<body data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
          
          <a class="navbar-brand-img" href="/">
            <img alt="" src="">
            
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
          </ul>
        </div>
        
      </div>
    </nav>
  </header>


<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="text-center">

    <h1>Change locale in linux
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2015-06-24">24 Jun, 2015</time>
</small>


  <small>
  &middot; Read in about 3 min
  &middot; (480 words)
</small>


<div class="margin-10">
  <i class="fa fa-tags"></i>
  
</div>
<br>
</div>

  </div>
</div>

      <div class="content">
  <p>Locale은 <strong>&lsquo;지역, 언어&rsquo;</strong>정보로 프로그램은 입/출력시 사용자가 설정한 locale에 따라 인코딩을 적용하여 메세지를 출력한다.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup></p>

<h2 id="현재값">현재값</h2>

<p>현재 설정값을 보려면 <strong><a href="http://man.he.net/?topic=locale&amp;section=all">locale</a></strong>을 사용한다.</p>

<pre><code class="language-bash">% locale
LANG=en_US.utf8                # LC_* 값들을 설정하지 않았을때 적용되는 기본 값
LANGUAGE=
LC_CTYPE=&quot;en_US.utf8&quot;          # Character classification and case conversion.
LC_NUMERIC=&quot;en_US.utf8&quot;        # Non-monetary numeric formats.
LC_TIME=&quot;en_US.utf8&quot;           # Date and time formats.
LC_COLLATE=&quot;en_US.utf8&quot;        # Collation order(알파벳 정렬과 관련된 규칙).
LC_MONETARY=&quot;en_US.utf8&quot;       # Monetary formats.
LC_MESSAGES=&quot;en_US.utf8&quot;       # Formats of informative and diagnostic messages and interactive responses.
LC_PAPER=&quot;en_US.utf8&quot;          # Paper size.
LC_NAME=&quot;en_US.utf8&quot;           # Name formats(이름 표기 형식. first name, last name).
LC_ADDRESS=&quot;en_US.utf8&quot;        # Address formats and location information.
LC_TELEPHONE=&quot;en_US.utf8&quot;      # Telephone number formats.
LC_MEASUREMENT=&quot;en_US.utf8&quot;    # Measurement units (Metric or Other).
LC_IDENTIFICATION=&quot;en_US.utf8&quot; # Metadata about the locale information.
LC_ALL=                        # LC_*의 값들이 override 된다.
</code></pre>

<p>
Locale은 다음과 같은 포맷으로 정의된다.
<code>&lt;lang&gt;_&lt;territory&gt;.&lt;codeset&gt;[@&lt;modifiers&gt;]</code> = <code>en_US.utf8</code></p>

<h2 id="변경-가능한-목록">변경 가능한 목록</h2>

<p>변경 가능한 값을 보려면 <strong><a href="http://man.he.net/?topic=locale&amp;section=all">locale</a> -a</strong> or <strong><a href="http://man.he.net/?topic=localedef&amp;section=all">localedef</a> &ndash;list-archive</strong>를 사용한다.</p>

<pre><code class="language-bash">% locale -a
C
C.UTF-8
en_US.utf8
POSIX

% localedef --list-archive
en_US.utf8
</code></pre>

<p>locale데이터는 <code>/usr/lib/locale/locale-archive</code> 파일에 기록되는데 위 커맨드는 이 아카이브파일에 저장된 목록을 보여준다.</p>

<pre><code class="language-bash">% ls -lh /usr/lib/locale/locale-archive
-rw-r--r-- 1 root root 1.3M Jun 24 10:22 /usr/lib/locale/locale-archive
</code></pre>

<h2 id="지원하는-목록">지원하는 목록</h2>

<p>시스템에서 지원하는 목록은 <code>/usr/share/i18n/SUPPORTED</code>에 기록되어있다.</p>

<pre><code class="language-bash">% cat /usr/share/i18n/SUPPORTED | wc -l
457


% cat /usr/share/i18n/SUPPORTED
# This file names the currently supported and somewhat tested locales.
# If you have any additions please file a glibc bug report.
aa_DJ.UTF-8 UTF-8
aa_DJ ISO-8859-1
aa_ER UTF-8
aa_ER@saaho UTF-8
aa_ET UTF-8
af_ZA.UTF-8 UTF-8
af_ZA ISO-8859-1
am_ET UTF-8
...
</code></pre>

<h2 id="locale-추가">Locale 추가</h2>

<p>지원하는 Locale을 추가할 수 있으며 추가하게 되면 <code>/usr/lib/locale/locale-archive</code>에 기록이 된다. 추가할때는 <strong><a href="http://man.he.net/?topic=locale-gen&amp;section=all">locale-gen</a></strong>을 사용한다. 지원하는 Locale 목록을 보고 루트권한으로 추가한다. 여기서는 한국어와 프랑스어를 추가한다.</p>

<pre><code class="language-bash">% cat /usr/share/i18n/SUPPORTED | grep -Ei '(ko_kr|fr_fr)'
fr_FR.UTF-8 UTF-8
fr_FR ISO-8859-1
fr_FR@euro ISO-8859-15
ko_KR.EUC-KR EUC-KR
ko_KR.UTF-8 UTF-8


% sudo locale-gen ko_KR.utf8 fr_FR.utf8
Generating locales...
  fr_FR.UTF-8... done
  ko_KR.UTF-8... done
Generation complete.


% ls -lh /usr/lib/locale/locale-archive
-rw-r--r-- 1 root root 2,8M juin  24 11:26 locale-archive # 용량이 늘어났다.


% localedef --list-archive # 2개의 locale이 추가되었다.
en_US.utf8
fr_FR.utf8
ko_KR.utf8
</code></pre>

<h2 id="사용">사용</h2>

<p>추가된 Locale을 사용하려면 환경변수 <code>LANG</code>에 해당 Locale을 지정하면 된다.</p>

<pre><code class="language-bash">% export LANG=fr_FR.utf8


% locale
LANG=fr_FR.utf8
LANGUAGE=
LC_CTYPE=&quot;fr_FR.utf8&quot;
LC_NUMERIC=&quot;fr_FR.utf8&quot;
LC_TIME=&quot;fr_FR.utf8&quot;
LC_COLLATE=&quot;fr_FR.utf8&quot;
LC_MONETARY=&quot;fr_FR.utf8&quot;
LC_MESSAGES=&quot;fr_FR.utf8&quot;
LC_PAPER=&quot;fr_FR.utf8&quot;
LC_NAME=&quot;fr_FR.utf8&quot;
LC_ADDRESS=&quot;fr_FR.utf8&quot;
LC_TELEPHONE=&quot;fr_FR.utf8&quot;
LC_MEASUREMENT=&quot;fr_FR.utf8&quot;
LC_IDENTIFICATION=&quot;fr_FR.utf8&quot;
LC_ALL=


% date
mercredi 24 juin 2015, 21:35:59 (UTC+0900)


% export LANG=ko_KR.utf8
% date
2015. 06. 24. (수) 21:40:54 KST
</code></pre>

<h2 id="삭제">삭제</h2>

<p>추가된 Locale을 삭제할때는 <code>locale-gen --purge</code>를 사용하며 이때 인자로 주어진 Locale을 제외한 모든 Locale이 삭제된다.</p>

<pre><code class="language-bash">% sudo locale-gen --purge en_US.utf8 ko_KR.utf8
Generating locales...
  en_US.UTF-8... done
  ko_KR.UTF-8... done
Generation complete.

% localedef --list-archive
en_US.utf8
ko_KR.utf8
</code></pre>

<h2 id="시스템-기본값-설정">시스템 기본값 설정</h2>

<p>locale을 시스템 기본값으로 변경하려면 <code>/etc/default/locale</code>에서 <code>LANG</code>의 값을 변경한후 리부팅을 하면 된다.</p>

<pre><code class="language-bash">% cat /etc/default/locale
# Created by cloud-init v. 0.7.5 on Wed, 10 Dec 2014 23:55:44 +0000
LANG=&quot;en_US.UTF-8&quot;
</code></pre>

<h2 id="정리">정리</h2>

<ul>
<li><a href="http://man.he.net/?topic=locale&amp;section=all">locale</a>, <a href="http://man.he.net/?topic=localedef&amp;section=all">localedef</a> - locale 조회</li>
<li><a href="http://man.he.net/?topic=locale-gen&amp;section=all">locale-gen</a> - locale 추가, 제거(&ndash;purge)</li>
<li><code>/usr/share/i18n/SUPPORTED</code> - locale 지원 목록</li>
<li><code>/usr/lib/locale/locale-archive</code> - 추가된 실제 locale archive</li>
<li><code>/etc/default/locale</code> - 시스템 기본 locale</li>
<li><code>export LANG=ko_KR.UTF-8</code> - locale 적용</li>
</ul>

<h2 id="references">References</h2>

<ul>
<li><a href="http://www.shellhacks.com/en/HowTo-Change-Locale-Language-and-Character-Set-in-Linux">HowTo : Change Locale (Language and Character Set) in Linux</a></li>
<li><a href="http://askubuntu.com/a/58200">How can I uninstall a locale via command-line?</a></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1"><a href="https://ko.wikipedia.org/wiki/%EB%A1%9C%EC%BC%80%EC%9D%BChttps://ko.wikipedia.org/wiki/%EB%A1%9C%EC%BC%80%EC%9D%BC">Locale at Wikipedia</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>
</div>


      <footer>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="http://kiyeon.github.io/2015/06/19/curses-library/" title="Curses Library">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="http://kiyeon.github.io/2015/06/25/command-lineeseo-java-jagseonghago-silhaenghagi/" title="Command line에서 java 작성하고 실행하기">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
  

</div>

</footer>

    </div>
    
  </div>
</div>
      
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
</small>
</div>


    


        </div>
    </div>
  </div>
</footer>

    

<script src="http://kiyeon.github.io/js/jquery.min.js"></script>
<script src="http://kiyeon.github.io/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
<script src="/js/popover/angular-storage.min.js"></script>



<script src="http://kiyeon.github.io/js/highlight.pack.js"></script>
<script src="http://kiyeon.github.io/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
var ENABLE_POPOVER = ""; 
var EXPIRE_COOKIE = ""; 
var SHOW_MODAL_TIMEOUT = ""; 
var MOUSE_LEAVE = ""; 
var MODAL_SIZE = ""; 
var POST_URL = ""; 
var SIGNUP_HEADER = "";
var HEADER_IMAGE = "";
var IMG_DESCRIPTION = "";
var SIGNUP_TEXT = "";
var INPUT_PLACEHOLDER = "";
var SUBMIT_BUTTON = "";
var SUCCESS_MESSAGE = "";
var ERROR_MESSAGE = "";
var OPTIN = "";
var COOKIE_NAME = "";
</script>
<script src="/js/popover/angular-modal-service.min.js"></script>
<script src="/js/angular-ismobile.min.js"></script>
<script src="/js/popover/popover.min.js"></script>

  </body>
</html>

