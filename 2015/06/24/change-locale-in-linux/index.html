<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.18.1" />

  <title>Change locale in linux &middot; Kiyeon&#39;s Blog</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="http://blog.kiyeon.net/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="http://blog.kiyeon.net/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="http://blog.kiyeon.net/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="http://blog.kiyeon.net/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="http://blog.kiyeon.net/">kiyeon</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://blog.kiyeon.net/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://blog.kiyeon.net/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/kiyeon214" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/kiyeon214" target="_blank"><i class="fa fa-facebook-square fa-fw"></i>Facebook</a>
    </li>
    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://instagram.com/kiyeon214" target="_blank"><i class="fa fa-instagram fa-fw"></i>Instagram</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/kiyeon" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2016. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Change locale in linux</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>24 Jun 2015, 09:28</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    

  <p>Locale은 <strong>&lsquo;지역, 언어&rsquo;</strong>정보로 프로그램은 입/출력시 사용자가 설정한 locale에 따라 인코딩을 적용하여 메세지를 출력한다.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup></p>

<h2 id="현재값">현재값</h2>

<p>현재 설정값을 보려면 <strong><a href="http://man.he.net/?topic=locale&amp;section=all">locale</a></strong>을 사용한다.</p>

<pre><code class="language-bash">% locale
LANG=en_US.utf8                # LC_* 값들을 설정하지 않았을때 적용되는 기본 값
LANGUAGE=
LC_CTYPE=&quot;en_US.utf8&quot;          # Character classification and case conversion.
LC_NUMERIC=&quot;en_US.utf8&quot;        # Non-monetary numeric formats.
LC_TIME=&quot;en_US.utf8&quot;           # Date and time formats.
LC_COLLATE=&quot;en_US.utf8&quot;        # Collation order(알파벳 정렬과 관련된 규칙).
LC_MONETARY=&quot;en_US.utf8&quot;       # Monetary formats.
LC_MESSAGES=&quot;en_US.utf8&quot;       # Formats of informative and diagnostic messages and interactive responses.
LC_PAPER=&quot;en_US.utf8&quot;          # Paper size.
LC_NAME=&quot;en_US.utf8&quot;           # Name formats(이름 표기 형식. first name, last name).
LC_ADDRESS=&quot;en_US.utf8&quot;        # Address formats and location information.
LC_TELEPHONE=&quot;en_US.utf8&quot;      # Telephone number formats.
LC_MEASUREMENT=&quot;en_US.utf8&quot;    # Measurement units (Metric or Other).
LC_IDENTIFICATION=&quot;en_US.utf8&quot; # Metadata about the locale information.
LC_ALL=                        # LC_*의 값들이 override 된다.
</code></pre>

<p>
Locale은 다음과 같은 포맷으로 정의된다.
<code>&lt;lang&gt;_&lt;territory&gt;.&lt;codeset&gt;[@&lt;modifiers&gt;]</code> = <code>en_US.utf8</code></p>

<h2 id="변경-가능한-목록">변경 가능한 목록</h2>

<p>변경 가능한 값을 보려면 <strong><a href="http://man.he.net/?topic=locale&amp;section=all">locale</a> -a</strong> or <strong><a href="http://man.he.net/?topic=localedef&amp;section=all">localedef</a> &ndash;list-archive</strong>를 사용한다.</p>

<pre><code class="language-bash">% locale -a
C
C.UTF-8
en_US.utf8
POSIX

% localedef --list-archive
en_US.utf8
</code></pre>

<p>locale데이터는 <code>/usr/lib/locale/locale-archive</code> 파일에 기록되는데 위 커맨드는 이 아카이브파일에 저장된 목록을 보여준다.</p>

<pre><code class="language-bash">% ls -lh /usr/lib/locale/locale-archive
-rw-r--r-- 1 root root 1.3M Jun 24 10:22 /usr/lib/locale/locale-archive
</code></pre>

<h2 id="지원하는-목록">지원하는 목록</h2>

<p>시스템에서 지원하는 목록은 <code>/usr/share/i18n/SUPPORTED</code>에 기록되어있다.</p>

<pre><code class="language-bash">% cat /usr/share/i18n/SUPPORTED | wc -l
457


% cat /usr/share/i18n/SUPPORTED
# This file names the currently supported and somewhat tested locales.
# If you have any additions please file a glibc bug report.
aa_DJ.UTF-8 UTF-8
aa_DJ ISO-8859-1
aa_ER UTF-8
aa_ER@saaho UTF-8
aa_ET UTF-8
af_ZA.UTF-8 UTF-8
af_ZA ISO-8859-1
am_ET UTF-8
...
</code></pre>

<h2 id="locale-추가">Locale 추가</h2>

<p>지원하는 Locale을 추가할 수 있으며 추가하게 되면 <code>/usr/lib/locale/locale-archive</code>에 기록이 된다. 추가할때는 <strong><a href="http://man.he.net/?topic=locale-gen&amp;section=all">locale-gen</a></strong>을 사용한다. 지원하는 Locale 목록을 보고 루트권한으로 추가한다. 여기서는 한국어와 프랑스어를 추가한다.</p>

<pre><code class="language-bash">% cat /usr/share/i18n/SUPPORTED | grep -Ei '(ko_kr|fr_fr)'
fr_FR.UTF-8 UTF-8
fr_FR ISO-8859-1
fr_FR@euro ISO-8859-15
ko_KR.EUC-KR EUC-KR
ko_KR.UTF-8 UTF-8


% sudo locale-gen ko_KR.utf8 fr_FR.utf8
Generating locales...
  fr_FR.UTF-8... done
  ko_KR.UTF-8... done
Generation complete.


% ls -lh /usr/lib/locale/locale-archive
-rw-r--r-- 1 root root 2,8M juin  24 11:26 locale-archive # 용량이 늘어났다.


% localedef --list-archive # 2개의 locale이 추가되었다.
en_US.utf8
fr_FR.utf8
ko_KR.utf8
</code></pre>

<h2 id="사용">사용</h2>

<p>추가된 Locale을 사용하려면 환경변수 <code>LANG</code>에 해당 Locale을 지정하면 된다.</p>

<pre><code class="language-bash">% export LANG=fr_FR.utf8


% locale
LANG=fr_FR.utf8
LANGUAGE=
LC_CTYPE=&quot;fr_FR.utf8&quot;
LC_NUMERIC=&quot;fr_FR.utf8&quot;
LC_TIME=&quot;fr_FR.utf8&quot;
LC_COLLATE=&quot;fr_FR.utf8&quot;
LC_MONETARY=&quot;fr_FR.utf8&quot;
LC_MESSAGES=&quot;fr_FR.utf8&quot;
LC_PAPER=&quot;fr_FR.utf8&quot;
LC_NAME=&quot;fr_FR.utf8&quot;
LC_ADDRESS=&quot;fr_FR.utf8&quot;
LC_TELEPHONE=&quot;fr_FR.utf8&quot;
LC_MEASUREMENT=&quot;fr_FR.utf8&quot;
LC_IDENTIFICATION=&quot;fr_FR.utf8&quot;
LC_ALL=


% date
mercredi 24 juin 2015, 21:35:59 (UTC+0900)


% export LANG=ko_KR.utf8
% date
2015. 06. 24. (수) 21:40:54 KST
</code></pre>

<h2 id="삭제">삭제</h2>

<p>추가된 Locale을 삭제할때는 <code>locale-gen --purge</code>를 사용하며 이때 인자로 주어진 Locale을 제외한 모든 Locale이 삭제된다.</p>

<pre><code class="language-bash">% sudo locale-gen --purge en_US.utf8 ko_KR.utf8
Generating locales...
  en_US.UTF-8... done
  ko_KR.UTF-8... done
Generation complete.

% localedef --list-archive
en_US.utf8
ko_KR.utf8
</code></pre>

<h2 id="시스템-기본값-설정">시스템 기본값 설정</h2>

<p>locale을 시스템 기본값으로 변경하려면 <code>/etc/default/locale</code>에서 <code>LANG</code>의 값을 변경한후 리부팅을 하면 된다.</p>

<pre><code class="language-bash">% cat /etc/default/locale
# Created by cloud-init v. 0.7.5 on Wed, 10 Dec 2014 23:55:44 +0000
LANG=&quot;en_US.UTF-8&quot;
</code></pre>

<h2 id="정리">정리</h2>

<ul>
<li><a href="http://man.he.net/?topic=locale&amp;section=all">locale</a>, <a href="http://man.he.net/?topic=localedef&amp;section=all">localedef</a> - locale 조회</li>
<li><a href="http://man.he.net/?topic=locale-gen&amp;section=all">locale-gen</a> - locale 추가, 제거(&ndash;purge)</li>
<li><code>/usr/share/i18n/SUPPORTED</code> - locale 지원 목록</li>
<li><code>/usr/lib/locale/locale-archive</code> - 추가된 실제 locale archive</li>
<li><code>/etc/default/locale</code> - 시스템 기본 locale</li>
<li><code>export LANG=ko_KR.UTF-8</code> - locale 적용</li>
</ul>

<h2 id="references">References</h2>

<ul>
<li><a href="http://www.shellhacks.com/en/HowTo-Change-Locale-Language-and-Character-Set-in-Linux">HowTo : Change Locale (Language and Character Set) in Linux</a></li>
<li><a href="http://askubuntu.com/a/58200">How can I uninstall a locale via command-line?</a></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1"><a href="https://ko.wikipedia.org/wiki/%EB%A1%9C%EC%BC%80%EC%9D%BChttps://ko.wikipedia.org/wiki/%EB%A1%9C%EC%BC%80%EC%9D%BC">Locale at Wikipedia</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="http://blog.kiyeon.net/2015/06/19/curses-library/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="http://blog.kiyeon.net/2015/06/19/curses-library/">Curses Library</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="http://blog.kiyeon.net/2015/06/25/command-lineeseo-java-jagseonghago-silhaenghagi/">Command line에서 java 작성하고 실행하기</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="http://blog.kiyeon.net/2015/06/25/command-lineeseo-java-jagseonghago-silhaenghagi/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'kiyeon';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>

</div>
</div>
<script src="http://blog.kiyeon.net/js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'Your Google Analytics tracking ID', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

